<!DOCTYPE html>
<html lang="en-GB">

  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<meta property="og:title" content="Kotlin in Action: Chapter 2: Kotlin Basics" />
<meta property="og:description" content="Full length notes for Kotlin in Action chapter 2.
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://verric.github.io/2017/05/05/kotlin-in-action-chapter-2-kotlin-basics/" />



<meta property="article:published_time" content="2017-05-05T17:02:50&#43;10:00"/>

<meta property="article:modified_time" content="2017-05-05T17:02:50&#43;10:00"/>











<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Kotlin in Action: Chapter 2: Kotlin Basics"/>
<meta name="twitter:description" content="Full length notes for Kotlin in Action chapter 2.
"/>
<meta name="generator" content="Hugo 0.30.2" />


    
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "headline": "Kotlin in Action: Chapter 2: Kotlin Basics",
  "url": "https://verric.github.io/2017/05/05/kotlin-in-action-chapter-2-kotlin-basics/",
  "wordCount": "1461",
  "datePublished": "2017-05-05T17:02:50&#43;10:00",
  "dateModified": "2017-05-05T17:02:50&#43;10:00",
  "author": {
    "@type": "Person",
    "name": ""
  },
  "keywords": "programming, kotlin, introduction"
}
</script>



    <link rel="canonical" href="https://verric.github.io/2017/05/05/kotlin-in-action-chapter-2-kotlin-basics/">

    <title>Kotlin in Action: Chapter 2: Kotlin Basics | Verric&#39;s Blog</title>

    <!-- combined, minified CSS -->
    <link href="https://verric.github.iocss/style.css" rel="stylesheet" integrity="sha384-O8wjsnz02XiyrPxnhfF6AVOv6YLBaEGRCnVF&#43;DL3gCPBy9cieyHcpixIrVyD2JS5" crossorigin="anonymous">

    

    

    

    

  </head>

  <body>

    <div class="blog-masthead">
      <div class="container">
        <nav class="nav blog-nav">
          <a class="nav-link " href="https://verric.github.io"></a>
          
          
        </nav>
      </div>
    </div>

    <header class="blog-header">
      <div class="container">
        <h1 class="blog-title"><a href="https://verric.github.io" rel="home">Verric's Blog</a></h1>
        <p class="lead blog-description">Hugo tranquilpeak theme demo</p>
      </div>
    </header>

    <div class="container">
      <div class="row">
        <div class="col-sm-8 blog-main">

          


<article class="blog-post">
  <header>
    <h2 class="blog-post-title"><a href="https://verric.github.io/2017/05/05/kotlin-in-action-chapter-2-kotlin-basics/">Kotlin in Action: Chapter 2: Kotlin Basics</a></h2>
    <p class="blog-post-meta"><time datetime="2017-05-05T17:02:50&#43;10:00">Fri May 5, 2017</time> by  in 
<i class="fa fa-folder" aria-hidden="true"></i>&nbsp;<a href="https://verric.github.io/categories/programming" rel="category tag">programming</a>, <a href="https://verric.github.io/categories/kotlin" rel="category tag">kotlin</a>


<i class="fa fa-tag" aria-hidden="true"></i>&nbsp;<a href="https://verric.github.io/tags/kotlin" rel="tag">kotlin</a>, <a href="https://verric.github.io/tags/introduction" rel="tag">introduction</a>

</p>
  </header>
  <p>Full length notes for <strong>Kotlin in Action</strong> chapter 2.
</p>

<h1 id="chapter-2-kotlin-basics">Chapter 2: Kotlin Basics</h1>

<!--toc-->

<h2 id="kotlin-overview">Kotlin overview</h2>

<ul>
<li>Created and currently maintained by JetBrains</li>
<li>Designed to be a <code>pragmatic, concise and safe</code>  language above all else</li>
<li>Supports OOP and FP</li>
<li>Statically Typed</li>
<li>Can be compiled into JVM bytecode or JS bytecode (runs on JVM or in browsers)</li>
<li>Currently targets Java 1.6 bytecode to be compatible with Android (can target high versions now, as well ?)</li>
<li>Interoperable with Java and most JVM languages (can use classes, methods etc from other JVM languages)</li>
<li>Has an absolute disdain for Null pointer Exceptions, most code that could throw an NPE will fail to compile</li>
</ul>

<h2 id="basic-elements-functions-and-variables">Basic elements: functions and variables</h2>

<p>Unavoidable <code>HelloWorld.kt</code></p>

<pre><code class="language-java">fun main(args: Array&lt;String&gt;) {
 println(&quot;Hello World&quot;);
}
</code></pre>

<ul>
<li><code>fun</code> - short for function can be declared in a file outside of a class since Kotlin supports <code>Functions as a first class citizen</code></li>
<li>declares variables as <code>name: type</code>  instead of the C-sytnax of <code>type name</code></li>
<li>Kotlin doesnt really have primitives nor C-style arrays - so we use <code>Arrays</code> as if it were a formal class</li>
<li><code>println</code> is simply wrapper around <code>System.out.println</code></li>
<li>Semi-colons are optional</li>
</ul>

<h3 id="functions">Functions</h3>

<p>Functions in Kotlin are commonly referred to as  <code>first class citizens</code>, meaning they can be passed as a values and can also be return values from other functions, similar to Scala, Javascript and the other languages that support FP.</p>

<h4 id="declaring-a-function">Declaring a function</h4>

<p>The skeleton for declaring a function in Kotlin is as follows.</p>

<pre><code class="language-java">fun functionName(parameterName1: parameterType1, parameterName2: parameterType2 ...): returnType {/** function body **/}
</code></pre>

<p>Example</p>

<pre><code class="language-java">fun getFullName(firstName: String, lastName: String): String {
 return firstName + &quot; &quot; + lastName;
}
</code></pre>

<h4 id="expression-functions">Expression Functions</h4>

<p>Expression functions are a type <code>special</code> of function and syntactically resemble a JS ES6 arrow function (with types) in that if the function body is only one expression then:</p>

<ul>
<li>you do not have to explicitly use the <code>return</code> keyword</li>
<li>you can drop the  return type from the function signature (it is still statically checked at compile time, but is inferred)</li>
<li>you <em>use</em> an equals symbol  instead of curly braces</li>
</ul>

<p>hence we could turn the above example into the following</p>

<pre><code class="language-java">fun getFullName(firstName: String, lastName: String) = firstName + &quot; &quot; + lastName;
</code></pre>

<h3 id="variables">Variables</h3>

<p>One main difference in Kotlin compared to Java (at least until <a href="http://openjdk.java.net/jeps/286">Project Amber</a> comes in) is the use of type inference, similar to Scala, meaning you can drop the variable type when initializing a Variable</p>

<pre><code class="language-java">var age = 42;
val name = &quot;Bob Dole&quot;;
</code></pre>

<p>You can also explicitly declare the type if you wish using the <code>varName: varType</code> format</p>

<pre><code class="language-java">var age: Int = 42;
val name: String = &quot;Bob Dole&quot;;
</code></pre>

<p><em>obviously if the declared type does not match the assigned value Kotlin will fail to compile.</em></p>

<p>The only rule to remember here is that if you declare a variable but  <em><strong>DO NOT INITIALISE</strong></em> the variable then you must explicitly declare the type</p>

<pre><code class="language-java">var age: Int;
age = 42;
</code></pre>

<p>Do not forget even though you do not have to explicitly set the variable type (it can be inferred), once declared you can not assign to a  value of a different type</p>

<pre><code class="language-java">var age = 42;
age = &quot;Bob&quot;; // fail to compile as &quot;Bob&quot; is not if type Int.
</code></pre>

<h4 id="mutable-vs-immutable">Mutable vs Immutable</h4>

<p>As you may have noticed above we used <code>var</code> and <code>val</code> both identical to their Scala counter-parts.</p>

<ul>
<li><code>var</code> - used to declare a <em>mutable</em> variable</li>
<li><code>val</code> - used to declare a <em>immutable</em> variable</li>
</ul>

<p>Note: When using <code>val</code> on reference types, this makes the reference to the object/function immutable.</p>

<pre><code class="language-java">val languages = arrayListOf(&quot;Java&quot;);
languages.add(&quot;Kotlin&quot;);
</code></pre>

<p>This is perfectly valid as we are not changing where <code>languages</code> is pointing. This should be familiar to Java developers as it follows the same reasoning when using <code>final</code> on variables.</p>

<h3 id="string-templates">String Templates</h3>

<p>As a matter of convenience Kotlin provides string templates, which make dealing with expressions, variables and the like easier to use with strings.
Kotlin provides to ways to use string templates;</p>

<ul>
<li><code>$variableName</code> - Kotlin allows you to use local variables by putting the dollar sign ($) in front of the variable name</li>
<li><code>${expression}</code> - Kotlin will evaluate the expression and return the result of the expression as a string.</li>
</ul>

<p>Example:</p>

<pre><code class="language-java">val name = &quot;Bob&quot;;
println(&quot;Hello, $name&quot;); // prints &quot;Hello Bob&quot;


val names = arrayOf(&quot;Bob&quot;, &quot;Jeff&quot;);
println(&quot;Hello, ${names[0]}&quot;); // prints &quot;Hello Bob&quot;
println(&quot;Hello, ${names[1]}&quot;); // prints &quot;Hello Jeff&quot;
</code></pre>

<h2 id="classes-and-properties">Classes and Properties</h2>

<h3 id="basic-class-declaration">Basic Class Declaration</h3>

<p>Kotlin aims to provide a more compact way of dealing with classes via properties and other short hands, while on the whole this makes dealing with classes easier and more concise. There are some aspects such as custom getters and setters that can be a bit more a pain (personal opinion there) than in regular Java</p>

<p>Example:</p>

<pre><code class="language-java">class Person(val name:String, var age: Int); //defines a class called person that requires two args
</code></pre>

<p>Notes:</p>

<ul>
<li>you must use <code>var</code> or <code>val</code> to declare a property</li>
<li>using <code>var</code> will automatically create both getters and setters for that property</li>
<li>using <code>val</code> will only create getters for that property</li>
<li>you  must declare the variable types in the constructor</li>
<li>a class is <code>public</code> by default</li>
</ul>

<h3 id="properties">Properties</h3>

<p>You can access a classes property by using dot notation followed by the name of the property.</p>

<pre><code class="language-java">val person = Person(&quot;Bob&quot;, 42);
person.name // &quot;Bob&quot;
</code></pre>

<p><strong><em>Note: Even though it looks like we are directly accessing the name property Kotlin is still retrieving the field via the getter.</em></strong></p>

<h4 id="custom-getters-setters">Custom Getters / Setters</h4>

<p>Let&rsquo;s say you want to use the above class, but you want the name to be returned in upper classes.
To do that we need to write our own getter.</p>

<pre><code class="language-java">class Person(val name:String, var age: Int) {
 val name: String
    get() {
      return name.toUpperCase();
    }
    set(value) {
      field = value.toLowerCase();
    }
}
</code></pre>

<p>Coming from Java the syntax may look a little goofy, but should look a little familiar coming from a C# or JS ES6</p>

<p>Notes:</p>

<ul>
<li>When using setter you do not have to pass the type of <code>value</code> but you can if you want.</li>
<li><code>field</code> is a keyword that refers to the objects instance field (there is no way to actually directly manipulate the backing field in Kotlin).</li>
<li>you can create/use properties not defined in the constructor, this allows for other types of properties, such as <code>computed properties</code> or <code>delegated properties</code>.</li>
</ul>

<h4 id="using-a-computed-property">Using a computed property</h4>

<pre><code class="language-java">class Rectangle(val width: Int, val height: Int) {
 val area: Double
    get() {
      return width * height;
    }
}

val smallBox = Rectangle(2,2);
smallBox.area; // returns 4
</code></pre>

<h3 id="kotlin-source-code-layout-directories-and-packages">Kotlin source code layout: directories and packages</h3>

<p>Kotlin primarily adopts Java&rsquo;s usage of <code>package</code> to declare the package this file belongs to and use of the <code>import</code> keyword to import classes and functions.</p>

<p>A major key difference is that Kotlin allows you to import top level functions.</p>

<p>Also since its possible for a Kotlin file to have nothing but functions (no classes) the file name can be whatever you want it to be, this is in contrast to Java where the file name has to match the public class (there is a caveat that in Java if there is only one class in a file, it does not have to be public so you can name the file whatever you want :p)</p>

<h2 id="representing-and-handling-choices-enums-and-when">Representing and handling choices: enums and “when”</h2>

<h3 id="declaring-enum-classes">Declaring enum classes</h3>

<p>Similar to Java, to define an enum we use the <code>enum</code> soft-keyword however in Kotlin we also use the <code>class</code> to denote that this is an enum class</p>

<p>Note: Here we only use squiggly brackets, when declaring basic enums</p>

<pre><code class="language-Java">enum class Colours {
  GREEN, GOLD
}
</code></pre>

<p>However here we use parenthesis to declare our parameters as usual.</p>

<h4 id="enums-with-properties">Enums with properties</h4>

<pre><code class="language-Java">enum class Colours (val r: Int, val g: Int, val b:Int) {
  RED(255,0,0), GREEN(0,255,0), BLUE(0,0,255);//note semi-colon  
  fun rgb() = (r * 256 + g) * 256 + b;
}
</code></pre>

<p>Methods defined in enums are used after the enum type.</p>

<p>Example:</p>

<pre><code class="language-Java">Colours.BLUE.rgb(); // (0 * 256 + 0) * 256 + 255 --&gt; 255
</code></pre>

<h3 id="using-when-to-deal-with-enum-classes">Using “when” to deal with enum classes</h3>

<p><code>When</code> in kotlin is can behave like a <code>switch</code> statement in Java, but more closely resemebles Scala&rsquo;s <code>case</code> expressions.</p>

<p>As <code>when</code> is an expression it is permitted to return a value, even if the returned type is different to the type being matched and can also, naturally be used in expression functions.</p>

<p>Example:</p>

<pre><code class="language-Java">fun getMnemonic(color: Color) =
when (color) {
Color.RED -&gt; &quot;Red&quot;
Color.GREEN -&gt; &quot;Green&quot;
Color.BLUE -&gt; &quot;Blue&quot;
}
</code></pre>

<h3 id="using-when-with-arbitrary-objects">Using “when” with arbitrary objects</h3>

<p>Loosely speaking, any any <code>value</code> can be used in an <code>when</code> expression, as long as the value can be compared.</p>

<p>Here since we are using sets, you could enter <strong>YELLOW</strong>, <strong>RED</strong> and <strong>ORANGE</strong> would still return;</p>

<pre><code class="language-Java">fun mix(c1: Color, c2: Color) =
when (setOf(c1, c2)) {
setOf(RED, YELLOW) -&gt; ORANGE
setOf(YELLOW, BLUE) -&gt; GREEN
setOf(BLUE, VIOLET) -&gt; INDIGO
else -&gt; throw Exception(&quot;Dirty color&quot;)
}
</code></pre>

<p>// TODO 2.33 &ndash;&gt; EOC</p>

  

  
  <hr>
  <footer>

  
    <section>
    <h4></h4>
    <nav class="nav sharing-icons">
      <a class="nav-item" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fverric.github.io%2f2017%2f05%2f05%2fkotlin-in-action-chapter-2-kotlin-basics%2f" title="Share on Facebook"><span class="fa fa-facebook fa-2x" aria-hidden="true"></span></a>
      <a class="nav-item" href="https://plus.google.com/share?url=https%3a%2f%2fverric.github.io%2f2017%2f05%2f05%2fkotlin-in-action-chapter-2-kotlin-basics%2f" title="Share on Google+"><span class="fa fa-google-plus fa-2x" aria-hidden="true"></span></a>
      <a class="nav-item" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fverric.github.io%2f2017%2f05%2f05%2fkotlin-in-action-chapter-2-kotlin-basics%2f" title="Share on LinkedIn"><span class="fa fa-linkedin fa-2x" aria-hidden="true"></span></a>
      <a class="nav-item" href="https://twitter.com/home?status=https%3a%2f%2fverric.github.io%2f2017%2f05%2f05%2fkotlin-in-action-chapter-2-kotlin-basics%2f" title="Tweet this"><span class="fa fa-twitter fa-2x"></span></a>
    </nav>
  </section>

  

  
  </footer>
  

</article> 



        </div> <!-- /.blog-main -->

        <aside class="col-sm-3 ml-auto blog-sidebar">
  

  

  
</aside>


      </div> <!-- /.row -->
    </div> <!-- /.container -->

    <footer class="blog-footer">
      <p>
      
      Blog template created by <a href="https://twitter.com/mdo">@mdo</a>, ported to Hugo by <a href='https://twitter.com/mralanorth'>@mralanorth</a>.
      
      </p>
      <p>
      <a href="#"></a>
      </p>
    </footer>

  </body>

</html>
